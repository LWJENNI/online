<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Розклад</title>
    <style>
        body {
            background-color: rgb(80, 141, 165);
        }

        .container {
            margin-top: 20px;
        }

        .dynamic-div {
            width: 100%;
            border-collapse: collapse;
        }

        .dynamic-div th,
        .dynamic-div td {
            padding: 10px;
            text-align: center;
            font-size: 20px;
        }

        .dynamic-div th {
            background-color: rgb(53, 157, 198);
            border-radius: 20px;
            border-bottom-left-radius: 0px;
            border-bottom-right-radius: 0px;
        }

        #schedule {
            border: solid rgb(53, 157, 198);
        }

        select {
            background-color: rgb(35, 193, 207);
            border-radius: 10px;
            text-align: center;
        }
        select {
    -webkit-appearance: none; /* Для Safari */
    -moz-appearance: none; /* Для Firefox */
    appearance: none; /* Для остальных */
}
    </style>
</head>

<body>
    <main>
        <div style="background-color: rgb(22, 148, 198); border-radius: 25px; border: solid rgb(15, 106, 142); text-align: center;">
            <select name="date" id="date" style="margin: 10px 10px;">
                <option value="all-days" selected>Всі дні</option>
                <option value="Monday">Понеділок</option>
                <option value="Tuesday">Вівторок</option>
                <option value="Wednesday">Середа</option>
                <option value="Thursday">Четвер</option>
                <option value="Friday">П'ятниця</option>
            </select>
        </div>
    </main>
    <aside>
        <div class="container" id="schedule"
            style="background-color: rgb(15, 106, 142); border-radius: 25px; text-align: center;"></div>
        </aside>
        <footer>
            <div style="position: fixed; bottom: 20px; left: 50%; margin: 0px -130px; background-color: rgba(27, 96, 124, 0.5); padding: 10px; border-radius: 5px; z-index: 1000;">
                Це не фінальний результат, <br> і розклад може бути змінений.
            </div>
        </footer>

    <script>
        document.getElementById('date').addEventListener('change', updateContent);

        const lists = [
            {
                "class7": {
                    "Monday": [{ "time": "16:00", "text": "Перший дзвоник" }],
                    "Tuesday": [{ "time": "17:00", "text": "Математика" }, { "time": "17:30", "text": "Англ. М" }],
                    "Wednesday": [{ "time": "17:00", "text": "ЯДС" }, { "time": "17:30", "text": "Укр. М" }, { "time": "18:00", "text": "Фіз-ра" }],
                    "Thursday": [{ "time": "17:00", "text": "ЯДС" }, { "time": "17:30", "text": "Образ. Мист." }],
                    "Friday": [{ "time": "17:00", "text": "Укр. М" }, { "time": "17:30", "text": "Англ. М" }, { "time": "18:00", "text": "Муз. М" }]
                }
            }
        ];

        function updateContent() {
            const dayValue = document.getElementById('date').value;
            createScheduleTable(dayValue);
        }

        function createScheduleTable(dayName) {
            const schedule = lists[0].class7;
            let result = "<table class='dynamic-div'><tr><th>День тижня</th><th>Час</th><th>Урок</th></tr>";

            if (dayName === "all-days") {
                for (const [day, lessons] of Object.entries(schedule)) {
                    let lastTime = ""; // Для хранения времени последнего урока
                    for (const lesson of lessons) {
                        // Если время совпадает с последним
                        if (lesson.time === lastTime) {
                            result += `<tr><td></td><td>${lesson.time}</td><td>${lesson.text}</td></tr>`;
                        } else {
                            result += `<tr><td>${day}</td><td>${lesson.time}</td><td>${lesson.text}</td></tr>`;
                        }
                        lastTime = lesson.time; // Обновляем последнее время
                    }
                }
            } else if (schedule[dayName]) {
                const lessons = schedule[dayName];
                for (const lesson of lessons) {
                    result += `<tr><td>${dayName}</td><td>${lesson.time}</td><td>${lesson.text}</td></tr>`;
                }
            } else {
                result += `<tr><td colspan="3">Дані не знайдено для ${dayName}</td></tr>`;
            }

            result += "</table>";
            document.getElementById("schedule").innerHTML = result;
        }

        // Заполнение таблицы при загрузке страницы
        createScheduleTable("all-days");
    </script>
</body>

</html>
